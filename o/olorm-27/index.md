# Makro-kappløp

Race conditions er kanskje mest omtalt i forbindelse med tråder,
men jeg fant en artig en.

På prosjektet har vi mange tjenester, og en veldig nyttig kommunikasjonsform mellom dem,
er _meldingskøer_. Spesifikt bruker vi _Kafka_-køer.
En vanlig egenskap ved meldingskøer er FIFO-oppførsel: First In, First Out.
Altså at rekkefølgen til meldingene blir bevart.

Kafka skiller seg fra mange andre meldingskøer ved at køene gjerne deles opp i _partisjoner_ for å få høyere gjennomstrømming.

![En topic med 4 partisjoner](https://kafka.apache.org/images/consumer-groups.png)

Hver melding har et innhold, og en _key_. Denne _key_'en brukes til å velge partisjon,
og innenfor hver partisjon er man garantert FIFO-rekkefølge.

Vi gjorde noe slikt:

![](data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb250ZW50U3R5bGVUeXBlPSJ0ZXh0L2NzcyIgaGVpZ2h0PSI2ODJweCIgcHJlc2VydmVBc3BlY3RSYXRpbz0ibm9uZSIgc3R5bGU9IndpZHRoOjczNHB4O2hlaWdodDo2ODJweDtiYWNrZ3JvdW5kOiNGRkZGRkY7IiB2ZXJzaW9uPSIxLjEiIHZpZXdCb3g9IjAgMCA3MzQgNjgyIiB3aWR0aD0iNzM0cHgiIHpvb21BbmRQYW49Im1hZ25pZnkiPjxkZWZzPjxmaWx0ZXIgaGVpZ2h0PSIzMDAlIiBpZD0iZjE4Z2I1bzF0cjJjNmwiIHdpZHRoPSIzMDAlIiB4PSItMSIgeT0iLTEiPjxmZUdhdXNzaWFuQmx1ciByZXN1bHQ9ImJsdXJPdXQiIHN0ZERldmlhdGlvbj0iMi4wIi8+PGZlQ29sb3JNYXRyaXggaW49ImJsdXJPdXQiIHJlc3VsdD0iYmx1ck91dDIiIHR5cGU9Im1hdHJpeCIgdmFsdWVzPSIwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAuNCAwIi8+PGZlT2Zmc2V0IGR4PSI0LjAiIGR5PSI0LjAiIGluPSJibHVyT3V0MiIgcmVzdWx0PSJibHVyT3V0MyIvPjxmZUJsZW5kIGluPSJTb3VyY2VHcmFwaGljIiBpbjI9ImJsdXJPdXQzIiBtb2RlPSJub3JtYWwiLz48L2ZpbHRlcj48L2RlZnM+PGc+PHJlY3QgaGVpZ2h0PSIyNi4yOTY5IiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDAwMDtzdHJva2Utd2lkdGg6MS4wO2ZpbGw6bm9uZTsiIHdpZHRoPSIxMjYiIHg9IjI5NyIgeT0iNSIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBmb250LXdlaWdodD0iYm9sZCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMTYiIHg9IjMwMiIgeT0iMjIuOTk1MSI+TWFrcm8ta2FwcGzDuHA8L3RleHQ+PCEtLU1ENT1bZjA3M2IyODExMzI0MzM3YWQxM2YwYWJlNTgyZTY1Y2JdCmNsdXN0ZXIgaW5uLS0+PGcgaWQ9ImNsdXN0ZXJfaW5uIj48cmVjdCBmaWx0ZXI9InVybCgjZjE4Z2I1bzF0cjJjNmwpIiBoZWlnaHQ9IjE2OCIgc3R5bGU9InN0cm9rZTojQTgwMDM2O3N0cm9rZS13aWR0aDoxLjA7ZmlsbDpub25lO3N0cm9rZS1kYXNoYXJyYXk6Ny4wLDcuMDsiIHdpZHRoPSIzNjIiIHg9IjciIHk9IjQ0LjI5NjkiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMjQiIHg9IjE3NiIgeT0iNTkuMjkyIj5pbm48L3RleHQ+PC9nPjwhLS1NRDU9WzM1YjJjNzNlYjlhMmUzZTEwMzExNjhjOTFmODFlMzk3XQpjbHVzdGVyIGlubmhvbGQtLT48ZyBpZD0iY2x1c3Rlcl9pbm5ob2xkIj48cmVjdCBmaWx0ZXI9InVybCgjZjE4Z2I1bzF0cjJjNmwpIiBoZWlnaHQ9IjE2OCIgc3R5bGU9InN0cm9rZTojQTgwMDM2O3N0cm9rZS13aWR0aDoxLjA7ZmlsbDpub25lO3N0cm9rZS1kYXNoYXJyYXk6Ny4wLDcuMDsiIHdpZHRoPSIzMzgiIHg9IjM4NCIgeT0iNTAyLjI5NjkiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNTgiIHg9IjUyNCIgeT0iNTE3LjI5MiI+aW5uaG9sZDwvdGV4dD48L2c+PCEtLU1ENT1bMjNiYzc5NDUzMTJlMWYwYTJlMzdjZWJmZTUwM2EwM2JdCmVudGl0eSBBMS0tPjxnIGlkPSJlbGVtX0ExIj48cG9seWdvbiBmaWxsPSIjRkVGRUNFIiBmaWx0ZXI9InVybCgjZjE4Z2I1bzF0cjJjNmwpIiBwb2ludHM9IjIwNSw4Ny4yOTY5LDIwNSwxODguNzgxMywzNDUsMTg4Ljc4MTMsMzQ1LDk3LjI5NjksMzM1LDg3LjI5NjksMjA1LDg3LjI5NjkiIHN0eWxlPSJzdHJva2U6I0E4MDAzNjtzdHJva2Utd2lkdGg6MS4wOyIvPjxwYXRoIGQ9Ik0zMzUsODcuMjk2OSBMMzM1LDk3LjI5NjkgTDM0NSw5Ny4yOTY5ICIgZmlsbD0iI0ZFRkVDRSIgc3R5bGU9InN0cm9rZTojQTgwMDM2O3N0cm9rZS13aWR0aDoxLjA7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMzIiIHg9IjIxNSIgeT0iMTEwLjI5MiI+SUQ6IEE8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNzAiIHg9IjIxNSIgeT0iMTI2LjU4ODkiPlZlcnNqb246IDI8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iODIiIHg9IjIxNSIgeT0iMTQyLjg4NTciPlR5cGU6IE9yZHJlPC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjQyIiB4PSIyMTUiIHk9IjE1OS4xODI2Ij5BZHI6IEI8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTIwIiB4PSIyMTUiIHk9IjE3NS40Nzk1Ij5TdGF0dXM6IGthbnNlbGxlcnQ8L3RleHQ+PC9nPjwhLS1NRDU9WzE5N2YzN2ZjMjk2ZjA2YzU1NDU3MTZkNTg5MWIzNjdiXQplbnRpdHkgQjEtLT48ZyBpZD0iZWxlbV9CMSI+PHBvbHlnb24gZmlsbD0iI0ZFRkVDRSIgZmlsdGVyPSJ1cmwoI2YxOGdiNW8xdHIyYzZsKSIgcG9pbnRzPSI1MCw5NS4yOTY5LDUwLDE4MC40ODQ0LDE3MCwxODAuNDg0NCwxNzAsMTA1LjI5NjksMTYwLDk1LjI5NjksNTAsOTUuMjk2OSIgc3R5bGU9InN0cm9rZTojQTgwMDM2O3N0cm9rZS13aWR0aDoxLjA7Ii8+PHBhdGggZD0iTTE2MCw5NS4yOTY5IEwxNjAsMTA1LjI5NjkgTDE3MCwxMDUuMjk2OSAiIGZpbGw9IiNGRUZFQ0UiIHN0eWxlPSJzdHJva2U6I0E4MDAzNjtzdHJva2Utd2lkdGg6MS4wOyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjMzIiB4PSI2MCIgeT0iMTE4LjI5MiI+SUQ6IEI8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNzAiIHg9IjYwIiB5PSIxMzQuNTg4OSI+VmVyc2pvbjogMjwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMDAiIHg9IjYwIiB5PSIxNTAuODg1NyI+VHlwZTogQWRyZXNzZTwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI4NCIgeD0iNjAiIHk9IjE2Ny4xODI2Ij5HYXRlOiB0b3JnZXQ8L3RleHQ+PC9nPjwhLS1NRDU9WzAyMGU0ODljZmVjODQ3MjlkNmQyYWUzMzFlMjcxMmFiXQplbnRpdHkgQTAtLT48ZyBpZD0iZWxlbV9BMCI+PHBvbHlnb24gZmlsbD0iI0ZFRkVDRSIgZmlsdGVyPSJ1cmwoI2YxOGdiNW8xdHIyYzZsKSIgcG9pbnRzPSI1ODIuNSw1NDUuMjk2OSw1ODIuNSw2NDYuNzgxMyw2OTcuNSw2NDYuNzgxMyw2OTcuNSw1NTUuMjk2OSw2ODcuNSw1NDUuMjk2OSw1ODIuNSw1NDUuMjk2OSIgc3R5bGU9InN0cm9rZTojQTgwMDM2O3N0cm9rZS13aWR0aDoxLjA7Ii8+PHBhdGggZD0iTTY4Ny41LDU0NS4yOTY5IEw2ODcuNSw1NTUuMjk2OSBMNjk3LjUsNTU1LjI5NjkgIiBmaWxsPSIjRkVGRUNFIiBzdHlsZT0ic3Ryb2tlOiNBODAwMzY7c3Ryb2tlLXdpZHRoOjEuMDsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIzMiIgeD0iNTkyLjUiIHk9IjU2OC4yOTIiPklEOiBBPC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjcwIiB4PSI1OTIuNSIgeT0iNTg0LjU4ODkiPlZlcnNqb246IDE8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iODIiIHg9IjU5Mi41IiB5PSI2MDAuODg1NyI+VHlwZTogT3JkcmU8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNDIiIHg9IjU5Mi41IiB5PSI2MTcuMTgyNiI+QWRyOiBCPC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9Ijk1IiB4PSI1OTIuNSIgeT0iNjMzLjQ3OTUiPlN0YXR1czogYmVzdGlsdDwvdGV4dD48L2c+PCEtLU1ENT1bY2JhYTAzMTM4Mzc4NzY0M2I4NjNlYThkNDUzZTM5N2NdCmVudGl0eSBCMC0tPjxnIGlkPSJlbGVtX0IwIj48cG9seWdvbiBmaWxsPSIjRkVGRUNFIiBmaWx0ZXI9InVybCgjZjE4Z2I1bzF0cjJjNmwpIiBwb2ludHM9IjQyNyw1NTMuMjk2OSw0MjcsNjM4LjQ4NDQsNTQ3LDYzOC40ODQ0LDU0Nyw1NjMuMjk2OSw1MzcsNTUzLjI5NjksNDI3LDU1My4yOTY5IiBzdHlsZT0ic3Ryb2tlOiNBODAwMzY7c3Ryb2tlLXdpZHRoOjEuMDsiLz48cGF0aCBkPSJNNTM3LDU1My4yOTY5IEw1MzcsNTYzLjI5NjkgTDU0Nyw1NjMuMjk2OSAiIGZpbGw9IiNGRUZFQ0UiIHN0eWxlPSJzdHJva2U6I0E4MDAzNjtzdHJva2Utd2lkdGg6MS4wOyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjMzIiB4PSI0MzciIHk9IjU3Ni4yOTIiPklEOiBCPC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjcwIiB4PSI0MzciIHk9IjU5Mi41ODg5Ij5WZXJzam9uOiAxPC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjEwMCIgeD0iNDM3IiB5PSI2MDguODg1NyI+VHlwZTogQWRyZXNzZTwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI5OSIgeD0iNDM3IiB5PSI2MjUuMTgyNiI+R2F0ZTogc2tvbGV2bi48L3RleHQ+PC9nPjwhLS1NRDU9W2RiYTQ4ZjJkOTg5MjM4YTZjNTQ2MzhhNjhiZTM2ZDg2XQplbnRpdHkgTGFncmluZy0tPjxnIGlkPSJlbGVtX0xhZ3JpbmciPjxwYXRoIGQ9Ik0zNTcsNDEyLjI5NjkgQzM1Nyw0MDIuMjk2OSAzOTIsNDAyLjI5NjkgMzkyLDQwMi4yOTY5IEMzOTIsNDAyLjI5NjkgNDI3LDQwMi4yOTY5IDQyNyw0MTIuMjk2OSBMNDI3LDQzNy41OTM4IEM0MjcsNDQ3LjU5MzggMzkyLDQ0Ny41OTM4IDM5Miw0NDcuNTkzOCBDMzkyLDQ0Ny41OTM4IDM1Nyw0NDcuNTkzOCAzNTcsNDM3LjU5MzggTDM1Nyw0MTIuMjk2OSAiIGZpbGw9IiNGRUZFQ0UiIGZpbHRlcj0idXJsKCNmMThnYjVvMXRyMmM2bCkiIHN0eWxlPSJzdHJva2U6I0E4MDAzNjtzdHJva2Utd2lkdGg6MS4wOyIvPjxwYXRoIGQ9Ik0zNTcsNDEyLjI5NjkgQzM1Nyw0MjIuMjk2OSAzOTIsNDIyLjI5NjkgMzkyLDQyMi4yOTY5IEMzOTIsNDIyLjI5NjkgNDI3LDQyMi4yOTY5IDQyNyw0MTIuMjk2OSAiIGZpbGw9Im5vbmUiIHN0eWxlPSJzdHJva2U6I0E4MDAzNjtzdHJva2Utd2lkdGg6MS4wOyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjUwIiB4PSIzNjciIHk9IjQzOS4yOTIiPkxhZ3Jpbmc8L3RleHQ+PC9nPjwhLS1NRDU9WzY3ZDFlNDZkNDdhZWE0NDgxZjY3NTA5ODUwMTA1NzgyXQplbnRpdHkgTW90dGFrLS0+PGcgaWQ9ImVsZW1fTW90dGFrIj48cmVjdCBmaWxsPSIjRkVGRUNFIiBmaWx0ZXI9InVybCgjZjE4Z2I1bzF0cjJjNmwpIiBoZWlnaHQ9IjM2LjI5NjkiIHN0eWxlPSJzdHJva2U6I0E4MDAzNjtzdHJva2Utd2lkdGg6MS4wOyIgd2lkdGg9IjY3IiB4PSIyMzMuNSIgeT0iMjY3LjI5NjkiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI0NyIgeD0iMjQzLjUiIHk9IjI5MC4yOTIiPk1vdHRhazwvdGV4dD48L2c+PCEtLU1ENT1bOTI1NWRlZDc3ZTU1NTg0YmNiODg4N2E5NTI5YmZkODddCmVudGl0eSBJbm4tLT48ZyBpZD0iZWxlbV9Jbm4iPjxwYXRoIGQ9Ik0xMTYuNSwyNzIuMjk2OSBMMTQ3LjUsMjcyLjI5NjkgQzE1Mi41LDI3Mi4yOTY5IDE1Mi41LDI4NS40NDUzIDE1Mi41LDI4NS40NDUzIEMxNTIuNSwyODUuNDQ1MyAxNTIuNSwyOTguNTkzOCAxNDcuNSwyOTguNTkzOCBMMTE2LjUsMjk4LjU5MzggQzExMS41LDI5OC41OTM4IDExMS41LDI4NS40NDUzIDExMS41LDI4NS40NDUzIEMxMTEuNSwyODUuNDQ1MyAxMTEuNSwyNzIuMjk2OSAxMTYuNSwyNzIuMjk2OSAiIGZpbGw9IiNGRUZFQ0UiIGZpbHRlcj0idXJsKCNmMThnYjVvMXRyMmM2bCkiIHN0eWxlPSJzdHJva2U6I0E4MDAzNjtzdHJva2Utd2lkdGg6Mi4wOyIvPjxwYXRoIGQ9Ik0xNDcuNSwyNzIuMjk2OSBDMTQyLjUsMjcyLjI5NjkgMTQyLjUsMjg1LjQ0NTMgMTQyLjUsMjg1LjQ0NTMgQzE0Mi41LDI5OC41OTM4IDE0Ny41LDI5OC41OTM4IDE0Ny41LDI5OC41OTM4ICIgZmlsbD0ibm9uZSIgc3R5bGU9InN0cm9rZTojQTgwMDM2O3N0cm9rZS13aWR0aDoyLjA7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMjEiIHg9IjExNi41IiB5PSIyOTAuMjkyIj5Jbm48L3RleHQ+PC9nPjwhLS1NRDU9W2M5MjE4N2Y1ZmQwN2I4NWU1MDljZmQwYTM0ZGU2MzdlXQplbnRpdHkgRW5kcmluZ2VyLS0+PGcgaWQ9ImVsZW1fRW5kcmluZ2VyIj48cGF0aCBkPSJNMzUwLjUsMjcyLjI5NjkgTDQyNy41LDI3Mi4yOTY5IEM0MzIuNSwyNzIuMjk2OSA0MzIuNSwyODUuNDQ1MyA0MzIuNSwyODUuNDQ1MyBDNDMyLjUsMjg1LjQ0NTMgNDMyLjUsMjk4LjU5MzggNDI3LjUsMjk4LjU5MzggTDM1MC41LDI5OC41OTM4IEMzNDUuNSwyOTguNTkzOCAzNDUuNSwyODUuNDQ1MyAzNDUuNSwyODUuNDQ1MyBDMzQ1LjUsMjg1LjQ0NTMgMzQ1LjUsMjcyLjI5NjkgMzUwLjUsMjcyLjI5NjkgIiBmaWxsPSIjRkVGRUNFIiBmaWx0ZXI9InVybCgjZjE4Z2I1bzF0cjJjNmwpIiBzdHlsZT0ic3Ryb2tlOiNBODAwMzY7c3Ryb2tlLXdpZHRoOjIuMDsiLz48cGF0aCBkPSJNNDI3LjUsMjcyLjI5NjkgQzQyMi41LDI3Mi4yOTY5IDQyMi41LDI4NS40NDUzIDQyMi41LDI4NS40NDUzIEM0MjIuNSwyOTguNTkzOCA0MjcuNSwyOTguNTkzOCA0MjcuNSwyOTguNTkzOCAiIGZpbGw9Im5vbmUiIHN0eWxlPSJzdHJva2U6I0E4MDAzNjtzdHJva2Utd2lkdGg6Mi4wOyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjY3IiB4PSIzNTAuNSIgeT0iMjkwLjI5MiI+RW5kcmluZ2VyPC90ZXh0PjwvZz48IS0tTUQ1PVs2M2M2OTBjOTA0MTY5MGM0ZDFjMjRlODJmYmQzNDI2M10KZW50aXR5IEJlaGFuZGxpbmctLT48ZyBpZD0iZWxlbV9CZWhhbmRsaW5nIj48cmVjdCBmaWxsPSIjRkVGRUNFIiBmaWx0ZXI9InVybCgjZjE4Z2I1bzF0cjJjNmwpIiBoZWlnaHQ9IjM2LjI5NjkiIHN0eWxlPSJzdHJva2U6I0E4MDAzNjtzdHJva2Utd2lkdGg6MS4wOyIgd2lkdGg9Ijk4IiB4PSI0NjgiIHk9IjI2Ny4yOTY5Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNzgiIHg9IjQ3OCIgeT0iMjkwLjI5MiI+QmVoYW5kbGluZzwvdGV4dD48L2c+PCEtLU1ENT1bMmNhN2JlMmZiZTJjODdhZmI5N2JlNmY1MmNmMTRmZDVdCmVudGl0eSBCZXN0aWxsaW5nLS0+PGcgaWQ9ImVsZW1fQmVzdGlsbGluZyI+PHJlY3QgZmlsbD0iI0ZFRkVDRSIgZmlsdGVyPSJ1cmwoI2YxOGdiNW8xdHIyYzZsKSIgaGVpZ2h0PSIzNi4yOTY5IiBzdHlsZT0ic3Ryb2tlOiNBODAwMzY7c3Ryb2tlLXdpZHRoOjEuMDsiIHdpZHRoPSI4MiIgeD0iNjAxIiB5PSIyNjcuMjk2OSIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjYyIiB4PSI2MTEiIHk9IjI5MC4yOTIiPkJlc3RpbGxpbmc8L3RleHQ+PC9nPjxnIGlkPSJlbGVtX0dNTjUyMjkiPjxwYXRoIGQ9Ik0zOTMsMTAyLjI5NjkgTDM5MywxNzIuODI4MSBBMCwwIDAgMCAwIDM5MywxNzIuODI4MSBMNTMwLjQ5LDE3Mi44MjgxIEw1MTkuNzUsMjY2LjkxNjkgTDUzOC40OSwxNzIuODI4MSBMNjg3LDE3Mi44MjgxIEEwLDAgMCAwIDAgNjg3LDE3Mi44MjgxIEw2ODcsMTEyLjI5NjkgTDY3NywxMDIuMjk2OSBMMzkzLDEwMi4yOTY5IEEwLDAgMCAwIDAgMzkzLDEwMi4yOTY5ICIgZmlsbD0iI0ZCRkI3NyIgZmlsdGVyPSJ1cmwoI2YxOGdiNW8xdHIyYzZsKSIgc3R5bGU9InN0cm9rZTojQTgwMDM2O3N0cm9rZS13aWR0aDoxLjA7Ii8+PHBhdGggZD0iTTY3NywxMDIuMjk2OSBMNjc3LDExMi4yOTY5IEw2ODcsMTEyLjI5NjkgTDY3NywxMDIuMjk2OSAiIGZpbGw9IiNGQkZCNzciIHN0eWxlPSJzdHJva2U6I0E4MDAzNjtzdHJva2Utd2lkdGg6MS4wOyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjExMCIgeD0iMzk5IiB5PSIxMTkuMzYzOCI+Rm9yIGVuZHJldCBPcmRyZTo8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTA5IiB4PSI0MDciIHk9IjEzNC40OTY2Ij5TZW5kIHRpbCBCZXN0aWxsaW5nPC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjEyNiIgeD0iMzk5IiB5PSIxNDkuNjI5NCI+Rm9yIGVuZHJldCBBZHJlc3NlOjwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIyNjUiIHg9IjQwNyIgeT0iMTY0Ljc2MjIiPkZpbm4gb2cgc2VuZCB0aWxow7hyZW5kZSBPcmRyZSB0aWwgQmVzdGlsbGluZzwvdGV4dD48L2c+PCEtLU1ENT1bN2UwY2ViNDQ2NmNkNWQ0YzUyYTA2MmYzOTg0N2E5MWFdCmxpbmsgTGFncmluZyB0byBpbm5ob2xkLS0+PGcgaWQ9ImxpbmtfTGFncmluZ19pbm5ob2xkIj48cGF0aCBkPSJNMzkyLDQ0Ny41NDY5IEMzOTIsNDU4Ljc3OTQgMzkyLDQ3My40MDEzIDM5Miw0ODkuMDY0MSBDMzkyLDQ5Mi45Nzk4IDM5Miw0OTYuOTYwNSAzOTIsNTAwLjk2OTcgQzM5Miw1MDEuMjIwMiAzOTIsNTAxLjQ3MDkgMzkyLDUwMS43MjE3ICIgZmlsbD0ibm9uZSIgaWQ9IkxhZ3JpbmctaW5uaG9sZCIgc3R5bGU9InN0cm9rZTojQTgwMDM2O3N0cm9rZS13aWR0aDoxLjA7c3Ryb2tlLWRhc2hhcnJheTo3LjAsNy4wOyIvPjwvZz48IS0tTUQ1PVtkZGJmMjZjYjk1MWIwOWQ3NTU1ZjExNTRmNzRlMDUyN10KbGluayBpbm4gdG8gSW5uLS0+PGcgaWQ9ImxpbmtfaW5uX0lubiI+PHBhdGggZD0iTTI1LjE2OTgsMjEyLjQ1NzMgQzI1LjIzMDksMjEyLjYwMTYgMjUuMjkyNSwyMTIuNzQ1NiAyNS4zNTQzLDIxMi44ODk1IEMyNS40NzgsMjEzLjE3NzQgMjUuNjAzMSwyMTMuNDY0NSAyNS43Mjk2LDIxMy43NTA5IEMyNS45ODI2LDIxNC4zMjM2IDI2LjI0MTIsMjE0Ljg5MzQgMjYuNTA1NCwyMTUuNDYgQzI4LjYxOTQsMjE5Ljk5MjggMzEuMDk3NSwyMjQuMzE5NCAzNCwyMjguMjk2OSBDNTEuODMsMjUyLjcyNjkgODMuNzgsMjY4LjA1NjkgMTA2LjM0LDI3Ni4zNzY5ICIgZmlsbD0ibm9uZSIgaWQ9Imlubi10by1Jbm4iIHN0eWxlPSJzdHJva2U6I0E4MDAzNjtzdHJva2Utd2lkdGg6MS4wOyIvPjxwb2x5Z29uIGZpbGw9IiNBODAwMzYiIHBvaW50cz0iMTExLjI5LDI3OC4xNDY5LDEwNC4xNjIzLDI3MS4zNTAxLDEwNi41ODE5LDI3Ni40NjM0LDEwMS40Njg3LDI3OC44ODMsMTExLjI5LDI3OC4xNDY5IiBzdHlsZT0ic3Ryb2tlOiNBODAwMzY7c3Ryb2tlLXdpZHRoOjEuMDsiLz48L2c+PCEtLU1ENT1bM2Q0MDQyMGQyNmEyOTM0OTY4MzJhZjdlOTIxZTMyNmRdCmxpbmsgSW5uIHRvIE1vdHRhay0tPjxnIGlkPSJsaW5rX0lubl9Nb3R0YWsiPjxwYXRoIGQ9Ik0xNTIuNTcsMjg1LjI5NjkgQzE3Ny44NSwyODUuMjk2OSAyMDMuMTMsMjg1LjI5NjkgMjI4LjQyLDI4NS4yOTY5ICIgZmlsbD0ibm9uZSIgaWQ9Iklubi10by1Nb3R0YWsiIHN0eWxlPSJzdHJva2U6I0E4MDAzNjtzdHJva2Utd2lkdGg6MS4wOyIvPjxwb2x5Z29uIGZpbGw9IiNBODAwMzYiIHBvaW50cz0iMjMzLjQ3LDI4NS4yOTY5LDIyNC40NywyODEuMjk2OSwyMjguNDcsMjg1LjI5NjksMjI0LjQ3LDI4OS4yOTY5LDIzMy40NywyODUuMjk2OSIgc3R5bGU9InN0cm9rZTojQTgwMDM2O3N0cm9rZS13aWR0aDoxLjA7Ii8+PC9nPjwhLS1NRDU9WzlmYmQwMTc1YTQxNGJkNDU1NTFjNWZhNTNmNDRkZmQ3XQpsaW5rIE1vdHRhayB0byBMYWdyaW5nLS0+PGcgaWQ9ImxpbmtfTW90dGFrX0xhZ3JpbmciPjxwYXRoIGQ9Ik0yNjguNzMsMzAzLjMwNjkgQzI3MS40NCwzMjIuMTA2OSAyNzguMjMsMzUyLjMzNjkgMjk1LDM3Mi4yOTY5IEMzMDkuODEsMzg5LjkyNjkgMzMyLjIzLDQwMi4zODY5IDM1MS43OSw0MTAuNjI2OSAiIGZpbGw9Im5vbmUiIGlkPSJNb3R0YWstdG8tTGFncmluZyIgc3R5bGU9InN0cm9rZTojQTgwMDM2O3N0cm9rZS13aWR0aDoxLjA7Ii8+PHBvbHlnb24gZmlsbD0iI0E4MDAzNiIgcG9pbnRzPSIzNTYuNyw0MTIuNjI2OSwzNDkuODc0NCw0MDUuNTI2OCwzNTIuMDY5NSw0MTAuNzQwNCwzNDYuODU2LDQxMi45MzU2LDM1Ni43LDQxMi42MjY5IiBzdHlsZT0ic3Ryb2tlOiNBODAwMzY7c3Ryb2tlLXdpZHRoOjEuMDsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI4IiB4PSIyOTYiIHk9IjM1Ny4zNjM4Ij4xPC90ZXh0PjxwYXRoIGQ9Ik0zMTAsMzM4LjI5NjkgTDMxMCwzNjMuMjk2OSBMNDcxLDM2My4yOTY5IEw0NzEsMzQ4LjI5NjkgTDQ2MSwzMzguMjk2OSBMMzEwLDMzOC4yOTY5ICIgZmlsbD0iI0ZCRkI3NyIgZmlsdGVyPSJ1cmwoI2YxOGdiNW8xdHIyYzZsKSIgc3R5bGU9InN0cm9rZTojQTgwMDM2O3N0cm9rZS13aWR0aDoxLjA7Ii8+PHBhdGggZD0iTTQ2MSwzMzguMjk2OSBMNDYxLDM0OC4yOTY5IEw0NzEsMzQ4LjI5NjkgTDQ2MSwzMzguMjk2OSAiIGZpbGw9IiNGQkZCNzciIHN0eWxlPSJzdHJva2U6I0E4MDAzNjtzdHJva2Utd2lkdGg6MS4wOyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjE0MCIgeD0iMzE2IiB5PSIzNTUuMzYzOCI+VmVyc2pvbiAyLW1lbGRpbmdlbmU8L3RleHQ+PC9nPjwhLS1NRDU9W2M5YzZjODQ5ZGEwYjZjMjQxZTBkZWFiMzQxMzc3NjA3XQpsaW5rIE1vdHRhayB0byBFbmRyaW5nZXItLT48ZyBpZD0ibGlua19Nb3R0YWtfRW5kcmluZ2VyIj48cGF0aCBkPSJNMzAwLjY2LDI4NS4yOTY5IEMzMTIuODYsMjg1LjI5NjkgMzI2LjkxLDI4NS4yOTY5IDM0MC4xNiwyODUuMjk2OSAiIGZpbGw9Im5vbmUiIGlkPSJNb3R0YWstdG8tRW5kcmluZ2VyIiBzdHlsZT0ic3Ryb2tlOiNBODAwMzY7c3Ryb2tlLXdpZHRoOjEuMDsiLz48cG9seWdvbiBmaWxsPSIjQTgwMDM2IiBwb2ludHM9IjM0NS4zOCwyODUuMjk2OSwzMzYuMzgsMjgxLjI5NjksMzQwLjM4LDI4NS4yOTY5LDMzNi4zOCwyODkuMjk2OSwzNDUuMzgsMjg1LjI5NjkiIHN0eWxlPSJzdHJva2U6I0E4MDAzNjtzdHJva2Utd2lkdGg6MS4wOyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjgiIHg9IjMxOSIgeT0iMjc4LjM2MzgiPjI8L3RleHQ+PC9nPjwhLS1NRDU9WzVlYzVhMWE3MGZkZTgyNTYwMTFjNThhOWEzMWRlODY2XQpsaW5rIEVuZHJpbmdlciB0byBCZWhhbmRsaW5nLS0+PGcgaWQ9ImxpbmtfRW5kcmluZ2VyX0JlaGFuZGxpbmciPjxwYXRoIGQ9Ik00MzMsMjg1LjI5NjkgQzQ0Mi44NywyODUuMjk2OSA0NTIuNzUsMjg1LjI5NjkgNDYyLjYyLDI4NS4yOTY5ICIgZmlsbD0ibm9uZSIgaWQ9IkVuZHJpbmdlci10by1CZWhhbmRsaW5nIiBzdHlsZT0ic3Ryb2tlOiNBODAwMzY7c3Ryb2tlLXdpZHRoOjEuMDsiLz48cG9seWdvbiBmaWxsPSIjQTgwMDM2IiBwb2ludHM9IjQ2Ny43OCwyODUuMjk2OSw0NTguNzgsMjgxLjI5NjksNDYyLjc4LDI4NS4yOTY5LDQ1OC43OCwyODkuMjk2OSw0NjcuNzgsMjg1LjI5NjkiIHN0eWxlPSJzdHJva2U6I0E4MDAzNjtzdHJva2Utd2lkdGg6MS4wOyIvPjwvZz48IS0tTUQ1PVtiZDRiNmIzN2RjNWVlMjZhOTdmMDNiMjhmMTExNzM0ZF0KbGluayBCZWhhbmRsaW5nIHRvIEJlc3RpbGxpbmctLT48ZyBpZD0ibGlua19CZWhhbmRsaW5nX0Jlc3RpbGxpbmciPjxwYXRoIGQ9Ik01NjYuMzIsMjg1LjI5NjkgQzU3Ni4xMywyODUuMjk2OSA1ODUuOTUsMjg1LjI5NjkgNTk1Ljc3LDI4NS4yOTY5ICIgZmlsbD0ibm9uZSIgaWQ9IkJlaGFuZGxpbmctdG8tQmVzdGlsbGluZyIgc3R5bGU9InN0cm9rZTojQTgwMDM2O3N0cm9rZS13aWR0aDoxLjA7Ii8+PHBvbHlnb24gZmlsbD0iI0E4MDAzNiIgcG9pbnRzPSI2MDAuOTEsMjg1LjI5NjksNTkxLjkxLDI4MS4yOTY5LDU5NS45MSwyODUuMjk2OSw1OTEuOTEsMjg5LjI5NjksNjAwLjkxLDI4NS4yOTY5IiBzdHlsZT0ic3Ryb2tlOiNBODAwMzY7c3Ryb2tlLXdpZHRoOjEuMDsiLz48L2c+PCEtLU1ENT1bZjRmMDU1MzllNGNkZDgyMDI0NDNkZDdmMWRjYTUzZTBdCnJldmVyc2UgbGluayBCZWhhbmRsaW5nIHRvIExhZ3JpbmctLT48ZyBpZD0ibGlua19CZWhhbmRsaW5nX0xhZ3JpbmciPjxwYXRoIGQ9Ik01MTIuODYsMzA4LjY4NjkgQzUwOC40MiwzMjcuNDU2OSA0OTkuNzgsMzU0LjA1NjkgNDg0LDM3Mi4yOTY5IEM0NjguOTEsMzg5LjczNjkgNDQ2LjM4LDQwMi40ODY5IDQyNy40LDQxMC45MzY5ICIgZmlsbD0ibm9uZSIgaWQ9IkJlaGFuZGxpbmctYmFja3RvLUxhZ3JpbmciIHN0eWxlPSJzdHJva2U6I0E4MDAzNjtzdHJva2Utd2lkdGg6MS4wO3N0cm9rZS1kYXNoYXJyYXk6Ny4wLDcuMDsiLz48cG9seWdvbiBmaWxsPSIjQTgwMDM2IiBwb2ludHM9IjUxNCwzMDMuNjA2OSw1MDguMTM4LDMxMS41MjEyLDUxMi45MTIzLDMwOC40ODcxLDUxNS45NDY0LDMxMy4yNjE1LDUxNCwzMDMuNjA2OSIgc3R5bGU9InN0cm9rZTojQTgwMDM2O3N0cm9rZS13aWR0aDoxLjA7Ii8+PC9nPjwhLS1NRDU9WzRhOGJkNDE0NWJiYWMwMjI1ZWM0ZGRlZDgwY2IyZDk0XQpAc3RhcnR1bWwKc2tpbiByb3NlCgp0aXRsZSBNYWtyby1rYXBwbMO4cAoKcmVjdGFuZ2xlIGlubiAjbGluZS5kYXNoZWQgewpmaWxlICJJRDogQVxuVmVyc2pvbjogMlxuVHlwZTogT3JkcmVcbkFkcjogQlxuU3RhdHVzOiBrYW5zZWxsZXJ0IiBhcyBBMQpmaWxlICJJRDogQlxuVmVyc2pvbjogMlxuVHlwZTogQWRyZXNzZVxuR2F0ZTogdG9yZ2V0IiBhcyBCMQp9CgpkYXRhYmFzZSAiTGFncmluZyIKCnJlY3RhbmdsZSBpbm5ob2xkICNsaW5lLmRhc2hlZCB7CmZpbGUgIklEOiBBXG5WZXJzam9uOiAxXG5UeXBlOiBPcmRyZVxuQWRyOiBCXG5TdGF0dXM6IGJlc3RpbHQiIGFzIEEwCmZpbGUgIklEOiBCXG5WZXJzam9uOiAxXG5UeXBlOiBBZHJlc3NlXG5HYXRlOiBza29sZXZuLiIgYXMgQjAKfQpMYWdyaW5nIC4uIGlubmhvbGQKCnJlY3RhbmdsZSBNb3R0YWsKCi8nCnF1ZXVlIEVuZHJpbmdlcjIgewpmaWxlICJJRDogQVxuVmVyc2pvbjogMlxuVHlwZTogT3JkcmVcbkFkcjogQlxuU3RhdHVzOiBrYW5zZWxsZXJ0IiBhcyBBMgpmaWxlICJJRDogQlxuVmVyc2pvbjogMlxuVHlwZTogQWRyZXNzZVxuR2F0ZTogdG9yZ2V0IiBhcyBCMgp9CicvCgpxdWV1ZSBJbm4KCnF1ZXVlIEVuZHJpbmdlcgoKcmVjdGFuZ2xlIEJlaGFuZGxpbmcKCnJlY3RhbmdsZSBCZXN0aWxsaW5nCgppbm4gLWRvd24tPiBJbm4KSW5uIC0+IE1vdHRhawpNb3R0YWsgLWRvd24tPiBMYWdyaW5nIDogMQpub3RlIHJpZ2h0IG9mIGxpbmsgCiAgVmVyc2pvbiAyLW1lbGRpbmdlbmUKZW5kIG5vdGUKTW90dGFrIC0+IEVuZHJpbmdlciA6IDIKRW5kcmluZ2VyIC1yaWdodC0+IEJlaGFuZGxpbmcKQmVoYW5kbGluZyAtPiBCZXN0aWxsaW5nCkxhZ3JpbmcgLnVwLj4gQmVoYW5kbGluZwoKbm90ZSB0b3Agb2YgQmVoYW5kbGluZwogIEZvciBlbmRyZXQgT3JkcmU6CiAgICBTZW5kIHRpbCBCZXN0aWxsaW5nCiAgRm9yIGVuZHJldCBBZHJlc3NlOgogICAgRmlubiBvZyBzZW5kIHRpbGjDuHJlbmRlIE9yZHJlIHRpbCBCZXN0aWxsaW5nCmVuZCBub3RlCkBlbmR1bWwKCkBzdGFydHVtbApza2luIHJvc2UKCnRpdGxlIE1ha3JvLWthcHBsw7hwCgpyZWN0YW5nbGUgaW5uICNsaW5lLmRhc2hlZCB7CmZpbGUgIklEOiBBXG5WZXJzam9uOiAyXG5UeXBlOiBPcmRyZVxuQWRyOiBCXG5TdGF0dXM6IGthbnNlbGxlcnQiIGFzIEExCmZpbGUgIklEOiBCXG5WZXJzam9uOiAyXG5UeXBlOiBBZHJlc3NlXG5HYXRlOiB0b3JnZXQiIGFzIEIxCn0KCmRhdGFiYXNlICJMYWdyaW5nIgoKcmVjdGFuZ2xlIGlubmhvbGQgI2xpbmUuZGFzaGVkIHsKZmlsZSAiSUQ6IEFcblZlcnNqb246IDFcblR5cGU6IE9yZHJlXG5BZHI6IEJcblN0YXR1czogYmVzdGlsdCIgYXMgQTAKZmlsZSAiSUQ6IEJcblZlcnNqb246IDFcblR5cGU6IEFkcmVzc2VcbkdhdGU6IHNrb2xldm4uIiBhcyBCMAp9CkxhZ3JpbmcgLi4gaW5uaG9sZAoKcmVjdGFuZ2xlIE1vdHRhawoKCnF1ZXVlIElubgoKcXVldWUgRW5kcmluZ2VyCgpyZWN0YW5nbGUgQmVoYW5kbGluZwoKcmVjdGFuZ2xlIEJlc3RpbGxpbmcKCmlubiAtZG93bi0+IElubgpJbm4gLT4gTW90dGFrCk1vdHRhayAtZG93bi0+IExhZ3JpbmcgOiAxCm5vdGUgcmlnaHQgb2YgbGluayAKICBWZXJzam9uIDItbWVsZGluZ2VuZQplbmQgbm90ZQpNb3R0YWsgLT4gRW5kcmluZ2VyIDogMgpFbmRyaW5nZXIgLXJpZ2h0LT4gQmVoYW5kbGluZwpCZWhhbmRsaW5nIC0+IEJlc3RpbGxpbmcKTGFncmluZyAudXAuPiBCZWhhbmRsaW5nCgpub3RlIHRvcCBvZiBCZWhhbmRsaW5nCiAgRm9yIGVuZHJldCBPcmRyZToKICAgIFNlbmQgdGlsIEJlc3RpbGxpbmcKICBGb3IgZW5kcmV0IEFkcmVzc2U6CiAgICBGaW5uIG9nIHNlbmQgdGlsaMO4cmVuZGUgT3JkcmUgdGlsIEJlc3RpbGxpbmcKZW5kIG5vdGUKQGVuZHVtbAoKUGxhbnRVTUwgdmVyc2lvbiAxLjIwMjIuMihTYXQgTWFyIDA1IDE2OjMwOjE5IFVUQyAyMDIyKQooR1BMIHNvdXJjZSBkaXN0cmlidXRpb24pCkphdmEgUnVudGltZTogT3BlbkpESyBSdW50aW1lIEVudmlyb25tZW50CkpWTTogT3BlbkpESyA2NC1CaXQgU2VydmVyIFZNCkRlZmF1bHQgRW5jb2Rpbmc6IFVURi04Ckxhbmd1YWdlOiBlbgpDb3VudHJ5OiBudWxsCi0tPjwvZz48L3N2Zz4K)

Her blir `ID` (`A`, `B`) brukt som _key_.
Hvis `A` og `B` beholder innbyrdes rekkefølge gjennom hele løypa går alt fint.

Men følgende blir et problem:

1. `B`, endret Adresse, fyker gjennom boksene til `Behandling`
   a. Leser Ordre `A`, Status **bestilt**
2. `A`, endret Ordre, kjører også gjennom løypa og ankommer `Behandling`
   a. Ordre `A`, Status **kansellert**, sendes videre
3. Ordre `A` fra punkt 1 blir sendt videre

Vi ender opp med en `Status: bestillt` _etter_ "kanselleringen".

Konklusjon: Ikke anta at meldinger ankommer i gitt rekkefølge gjennom et distribuert system
(med ulik _key_).

Løsninger på det aktuelle problemet kan være:

1. `Behandling` kan sende "Ordre A er endret" i stedet for "Ordre A har fått status X"
2. `Bestilling` kan alternativt ignorere utdaterte meldinger ved å sammenligne Versjon e.l.

Send gjerne spørsmål eller kommentarer til Richard Tingstad :)

